-- H2 2.1.212;
;             
CREATE USER IF NOT EXISTS "ECUSER" SALT '575b7b53138f25fa' HASH '4916375e0300ad4210f05d99f3299a428637cc34c1f7057decf4c98ec795ea7c' ADMIN;     
CREATE MEMORY TABLE "PUBLIC"."COMMAND"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "REFERENCE" CHARACTER VARYING(255)
); 
ALTER TABLE "PUBLIC"."COMMAND" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.COMMAND; 
CREATE MEMORY TABLE "PUBLIC"."COMMAND_PRODUCTS"(
    "COMMAND_ID" BIGINT NOT NULL,
    "PRODUCTS_ID" BIGINT NOT NULL
);    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.COMMAND_PRODUCTS;        
CREATE MEMORY TABLE "PUBLIC"."CONSUMER"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "EMAIL" CHARACTER VARYING(255),
    "FIRST_NAME" CHARACTER VARYING(255),
    "LAST_NAME" CHARACTER VARYING(255),
    "MOBILE_NUMBER" CHARACTER VARYING(255)
);    
ALTER TABLE "PUBLIC"."CONSUMER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_C" PRIMARY KEY("ID");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CONSUMER;
CREATE MEMORY TABLE "PUBLIC"."CONSUMER_PRODUCTS"(
    "CONSUMER_ID" BIGINT NOT NULL,
    "PRODUCTS_ID" BIGINT NOT NULL
);  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CONSUMER_PRODUCTS;       
CREATE MEMORY TABLE "PUBLIC"."PRODUCT"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "PRICE" FLOAT NOT NULL,
    "REFERENCE" CHARACTER VARYING(255),
    "SHORT_LABEL" CHARACTER VARYING(255)
);         
ALTER TABLE "PUBLIC"."PRODUCT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCT; 
CREATE MEMORY TABLE "PUBLIC"."PRODUCT_CONSUMERS"(
    "PRODUCT_ID" BIGINT NOT NULL,
    "CONSUMERS_ID" BIGINT NOT NULL
);  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCT_CONSUMERS;       
ALTER TABLE "PUBLIC"."COMMAND_PRODUCTS" ADD CONSTRAINT "PUBLIC"."FK18M81SLT86EIKAB9245KEG19H" FOREIGN KEY("PRODUCTS_ID") REFERENCES "PUBLIC"."PRODUCT"("ID") NOCHECK;         
ALTER TABLE "PUBLIC"."CONSUMER_PRODUCTS" ADD CONSTRAINT "PUBLIC"."FKD011WCKYDXL5H1DJ2HB2UQMAL" FOREIGN KEY("CONSUMER_ID") REFERENCES "PUBLIC"."CONSUMER"("ID") NOCHECK;       
ALTER TABLE "PUBLIC"."CONSUMER_PRODUCTS" ADD CONSTRAINT "PUBLIC"."FKLQPPCCYTSFVO2FDXMTJDSJ703" FOREIGN KEY("PRODUCTS_ID") REFERENCES "PUBLIC"."PRODUCT"("ID") NOCHECK;        
ALTER TABLE "PUBLIC"."PRODUCT_CONSUMERS" ADD CONSTRAINT "PUBLIC"."FK49FYEVANW0KLL0UIHL1R98BE0" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCT"("ID") NOCHECK;         
ALTER TABLE "PUBLIC"."COMMAND_PRODUCTS" ADD CONSTRAINT "PUBLIC"."FKEKMVNPPF3FCG6IHKSH3EE8E0M" FOREIGN KEY("COMMAND_ID") REFERENCES "PUBLIC"."COMMAND"("ID") NOCHECK;          
ALTER TABLE "PUBLIC"."PRODUCT_CONSUMERS" ADD CONSTRAINT "PUBLIC"."FKPVI29AWXN3PYFQUD4IDH2CXKF" FOREIGN KEY("CONSUMERS_ID") REFERENCES "PUBLIC"."CONSUMER"("ID") NOCHECK;      
